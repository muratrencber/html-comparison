<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>HTML Comparer</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
    </head>
    <body>
        <div class="customization">
                <div class="cp-title">Tags to compare, write as "css selector => [attribute1,attribute2]"</div>
                <div class="cp-title">Tags to Remove, put ! before selector to remove it before tags to compare extraction, add => [attribute] to only remove attribute</div>
                <textarea id="tags-to-compare">script => [src]
link[rel="stylesheet"] => [href]
link[rel="alternate"] => [hreflang, href]
title => [innerText]
meta => [name, content]
link[rel="canonical"] => [href]
meta => [property, content]
html => [lang]</textarea>
                <textarea id="tags-to-remove">!script[type="application/ld+json"]
!noscript
!section => [id]
!section.blog-posts.maestra-related
!.landing-video-controller
!body => [c:page-parent,c:page-child,cr:page-id-\d*,cr:parent-pageid-\d*]
!.c-virtual_list__item => [id]
head
script
footer
header
!img => [data-dark-src,data-light-src]
</textarea>
        </div>
        <div class="file-upload">
            <div class="fu input">
                <label for="file1">Choose the first HTML</label>
                <input type="file" id="file1" class="inputfile" />
            </div>
            <div class="fu input">
                <label for="file2">Choose the second HTML</label>
                <input type="file" id="file2" class="inputfile" />
            </div>
        </div>
        <div class="diff-button">
            <label for="remove-empty-paragraphs">Remove Empty Paragraphs</label>
            <input type="checkbox" id="remove-empty-paragraphs" checked />
            <span class="spacing"></span>
            <label for="replace-special">Replace special characters “,”,’</label>
            <input type="checkbox" id="replace-special" checked/>
            <span class="spacing"></span>
            <label for="ignore-image-sources">Ignore Image Sources</label>
            <input type="checkbox" id="ignore-image-sources" checked/>
            <span class="spacing"></span>
            <label for="ignore-image-alts">Ignore Image Alts</label>
            <input type="checkbox" id="ignore-image-alts" checked/>
            <span class="spacing"></span>
            <label for="ignore-a-blank">Ignore Blank Anchor Targets</label>
            <input type="checkbox" id="ignore-a-blank" checked/>
            <span class="spacing"></span>
            <label for="ignore-a-rels">Ignore Anchor Rels</label>
            <input type="checkbox" id="ignore-a-rels" checked/>
            <button id="btn-compare">Compare!</button>
        </div>
        <div class="comparison-result">
            <div class="cr diff">
                <span id="file1-diff">
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    ===<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    ===<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    ===<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                    A<br>
                </span>
            </div>
            <div class="cr diff">
                <span id="file2-diff">
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    ===
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    ===
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    ===
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                    A
                </span>
            </div>
        </div>
        <div class="tag-comparison-result">
            <div class="tcr">
                <div class="tcr-title">Tag comparison result</div>
                <div class="tcr-result" id="tag-comparison-result-1">
                </div>
            </div>
            <div class="tcr">
                <div class="tcr-title">Tag comparison result</div>
                <div class="tcr-result" id="tag-comparison-result-2">
                </div>
            </div>
        </div>
        <script type="module" src="bundle.js"></script>
        <script>
            const file1prev = document.getElementById('file1-diff').parentElement;
            const file2prev = document.getElementById('file2-diff').parentElement;

            const syncScrolls = (fromF1) => {
                const value = fromF1 ? file1prev.scrollTop : file2prev.scrollTop;
                if(!fromF1)
                    file1prev.scrollTop = value;
                else
                    file2prev.scrollTop = value;
            }
            //sync their scrolls
            file1prev.onscroll = function() {
                syncScrolls(true);
            }
            file2prev.onscroll = function() {
                syncScrolls(false);
            }
            syncScrolls(true);
        </script>
    </body>
</html>